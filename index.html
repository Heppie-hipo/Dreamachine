<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dreamachine</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Safety Disclaimer Modal -->
    <div id="safety-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Disclaimer</h2>
            <p>This app produces flashing light patterns. It is not recommended for users with a history of epilepsy or sensitivity to strobe effects.</p>
            <p>Use in a dimly lit room, and do not stare directly at the screen. The experience is intended to be viewed with your eyes closed.</p>
            <button id="agree-button">I Understand</button>
        </div>
    </div>

    <!-- Intro Screen -->
    <div id="intro-screen">
        <div class="intro-content">
            <h1>"Close your eyes. The void will meet you."</h1>
            <button id="start-button">Begin</button>
        </div>
    </div>

    <!-- Dreamachine Experience -->
    <div id="dreamachine-container" class="hidden">
        <canvas id="dreamachine-canvas"></canvas>
        <canvas id="threejs-canvas" class="hidden"></canvas>
        <div id="controls">
            <div class="control-group">
                <label for="hz-slider">Frequency</label>
                <input type="range" id="hz-slider" min="6" max="13" value="8" step="0.1">
                <span id="hz-value">8 Hz</span>
            </div>
            <div class="control-group">
                <label for="sound-toggle">Sound</label>
                <button id="sound-toggle">On</button>
            </div>
             <div class="control-group">
                <label for="mode-select">Mode</label>
                <select id="mode-select">
                    <option value="dream" selected>Mandala</option>
                    <option value="stillness">Void</option>
                    <option value="classic">Classic</option>
                </select>
            </div>
            <button id="exit-button">Exit</button>
        </div>
        <div id="exit-message" class="hidden">
             <h1>"You are returning to form. Carry what you saw."</h1>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html> 